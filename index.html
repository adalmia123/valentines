<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Valentine</title>
    <style>
        /* --- General Styles --- */
        body {
            background-color: #f7d9da; /* Light pink background */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            font-family: 'Arial', sans-serif;
            overflow: hidden; /* Prevent scrollbars during animation */
            transition: background-color 1s;
        }

        /* --- Envelope Styles --- */
        .container {
            position: relative;
            cursor: pointer;
        }

        .envelope-wrapper {
            background: #f7d9da;
            height: 200px;
            width: 300px;
            position: relative;
        }

        .envelope {
            position: relative;
            width: 300px;
            height: 200px;
            background-color: #ff3333; /* Red envelope base */
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
        }

        /* The Triangle Flaps */
        .envelope::before { /* Left flap */
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            border-top: 100px solid transparent;
            border-left: 150px solid #e60000;
            border-bottom: 100px solid #e60000;
            z-index: 3;
        }

        .envelope::after { /* Right flap */
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            border-top: 100px solid transparent;
            border-right: 150px solid #cc0000;
            border-bottom: 100px solid #cc0000;
            z-index: 3;
        }

        /* The Top Flap (The one that opens) */
        .flap {
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 0;
            border-left: 150px solid transparent;
            border-right: 150px solid transparent;
            border-top: 110px solid #ff3333; /* Matches envelope color */
            transform-origin: top;
            transition: transform 0.6s ease-in-out;
            z-index: 4;
        }

        /* The Letter inside */
        .letter {
            position: absolute;
            top: 10px;
            left: 25px;
            width: 250px;
            height: 180px;
            background-color: white;
            text-align: center;
            transition: transform 0.6s ease-in-out, z-index 0.2s;
            z-index: 2; /* Starts inside envelope */
            padding: 20px;
            box-sizing: border-box;
            box-shadow: 0 2px 5px rgba(0,0,0,0.15);
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .letter p {
            font-size: 1.2rem;
            color: #d62828;
            font-weight: bold;
            margin-bottom: 20px;
        }

        /* --- Open Animation State --- */
        .open .flap {
            transform: rotateX(180deg);
            z-index: 1; /* Goes behind the letter */
        }

        .open .letter {
            transform: translateY(-100px); /* Slides up */
            z-index: 5; /* Comes to front */
        }

        /* --- Buttons --- */
        .btn-group {
            display: flex;
            justify-content: center;
            gap: 15px;
        }

        button {
            padding: 10px 20px;
            font-size: 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }

        #yesBtn {
            background-color: #28a745;
            color: white;
        }

        #noBtn {
            background-color: #dc3545;
            color: white;
            position: relative; /* Needed for movement */
        }

        /* --- Phase 2: Success / Flowers / List --- */
        #celebration {
            display: none; /* Hidden initially */
            text-align: center;
            width: 100%;
            height: 100vh;
            overflow-y: scroll; /* Allow scrolling for the list */
            padding: 20px;
            position: relative;
        }

        /* Tulips CSS */
        .bouquet {
            position: relative;
            height: 200px;
            width: 200px;
            margin: 50px auto;
        }

        .flower {
            position: absolute;
            bottom: 0;
            width: 40px;
            height: 40px;
            background: #ff69b4;
            border-radius: 50% 50% 10% 50%;
            transform: rotate(-45deg);
        }

        .stem {
            position: absolute;
            width: 4px;
            height: 100px;
            background: green;
            bottom: -80px;
            left: 18px;
            transform: rotate(45deg);
            z-index: -1;
        }
        
        /* Positioning multiple flowers to make a bouquet */
        .f1 { left: 80px; transform: rotate(-45deg); }
        .f2 { left: 40px; transform: rotate(-65deg); background: #ff1493; }
        .f3 { left: 120px; transform: rotate(-25deg); background: #ff1493; }

        .reason-list {
            list-style: none;
            padding: 0;
            color: #d62828;
            font-size: 1.2rem;
            margin-top: 100px;
        }
        
        .reason-list li {
            padding: 10px;
            animation: fadeIn 1s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Hearts Background */
        .heart {
            position: fixed;
            top: -10vh;
            color: #ff3333;
            font-size: 20px;
            animation: fall linear forwards;
            z-index: -1;
        }

        @keyframes fall {
            to { transform: translateY(110vh); }
        }

    </style>
</head>
<body>

    <div class="container" id="envelope-container" onclick="openEnvelope()">
        <div class="envelope-wrapper">
            <div class="envelope">
                <div class="flap"></div>
                <div class="letter">
                    <p>Will you be my Valentine?</p>
                    <div class="btn-group">
                        <button id="yesBtn" onclick="showLove(event)">Yes</button>
                        <button id="noBtn" onmouseover="moveNoButton()">No</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="celebration">
        <h1>I knew you'd say Yes! ❤️</h1>
        
        <div class="bouquet">
            <div class="flower f1"><div class="stem"></div></div>
            <div class="flower f2"><div class="stem"></div></div>
            <div class="flower f3"><div class="stem"></div></div>
        </div>

        <h2>100 Reasons Why I Love You</h2>
        <ul id="reasons" class="reason-list">
            </ul>
    </div>

    <script>
        let isOpen = false;

        // 1. Open Envelope
        function openEnvelope() {
            if (!isOpen) {
                document.querySelector('.container').classList.add('open');
                isOpen = true;
            }
        }

        // 2. Make "No" button run away & "Yes" grow
        function moveNoButton() {
            const noBtn = document.getElementById('noBtn');
            const yesBtn = document.getElementById('yesBtn');
            
            // Random position limited to screen width/height logic
            const x = Math.random() * (window.innerWidth - noBtn.offsetWidth);
            const y = Math.random() * (window.innerHeight - noBtn.offsetHeight);
            
            noBtn.style.position = 'absolute';
            noBtn.style.left = `${x}px`;
            noBtn.style.top = `${y}px`;

            // Make Yes button bigger
            let currentSize = parseFloat(window.getComputedStyle(yesBtn).fontSize);
            yesBtn.style.fontSize = `${currentSize + 5}px`;
        }

        // 3. Show Success Screen
        function showLove(event) {
            event.stopPropagation(); // Stop click from toggling envelope
            
            // Hide envelope, show celebration
            document.getElementById('envelope-container').style.display = 'none';
            document.getElementById('celebration').style.display = 'block';
            document.body.style.overflow = 'auto'; // Enable scrolling

            // Start falling hearts
            createHearts();

            // Populate the list
            printReasons();
        }

        // 4. Create Falling Hearts
        function createHearts() {
            setInterval(() => {
                const heart = document.createElement('div');
                heart.classList.add('heart');
                heart.innerHTML = '❤️';
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.animationDuration = Math.random() * 2 + 3 + 's';
                document.body.appendChild(heart);
                
                // Remove heart after animation to keep DOM clean
                setTimeout(() => {
                    heart.remove();
                }, 5000);
            }, 300);
        }

        // 5. The 100 Reasons
        const reasonsList = [
            "Your smile lights up my day",
            "You make the best coffee",
            "Your laugh is contagious",
            "You always know how to cheer me up",
            // ... Add more reasons here in the code ...
            "You are my best friend",
            "I love your sense of style",
            "You are incredibly smart",
            "You have the kindest heart",
            "Being with you feels like home",
            "I love building a future with you"
        ];
        
        // Fill the rest up to 100 for the demo (You should edit the array above!)
        while (reasonsList.length < 100) {
            reasonsList.push("Reason #" + (reasonsList.length + 1) + ": I just love everything about you!");
        }

        function printReasons() {
            const ul = document.getElementById('reasons');
            reasonsList.forEach((reason, index) => {
                const li = document.createElement('li');
                li.textContent = reason;
                // Stagger animation
                li.style.animationDelay = `${index * 0.1}s`;
                ul.appendChild(li);
            });
        }
    </script>
</body>
</html>
